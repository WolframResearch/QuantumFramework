(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='WolframDesktop 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       161,          7]
NotebookDataLength[     72538,       1721]
NotebookOptionsPosition[     69848,       1666]
NotebookOutlinePosition[     70244,       1682]
CellTagsIndexPosition[     70201,       1679]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["special case: Y", "Section",
 CellChangeTimes->{{3.85713650477335*^9, 
  3.857136507713688*^9}},ExpressionUUID->"34268aa3-8bc8-4b4e-a7c4-\
8ed1620831c5"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"qc", "=", 
   RowBox[{"QuantumCircuitOperator", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"QuantumOperator", "[", "\"\<CZ\>\"", "]"}], ",", 
      RowBox[{"QuantumMeasurementOperator", "[", "\"\<Y\>\"", "]"}]}], "}"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc", "[", "\"\<Diagram\>\"", "]"}]}], "Input",
 CellChangeTimes->{{3.857133442971109*^9, 3.857133453513756*^9}},
 CellLabel->"In[19]:=",ExpressionUUID->"9f89f128-4052-42b3-baa5-b94594e129d1"],

Cell[BoxData[
 GraphicsBox[{{InsetBox[
     StyleBox["\<\"c\"\>",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {-1, 0}], 
    {Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], LineBox[{{0, -0.125}, {18, -0.125}}], 
     LineBox[{{0, 0.125}, {18, 0.125}}]}}, {
    BSplineCurveBox[{{0, -5}, {18, -5}},
     SplineDegree->3], BSplineCurveBox[{{0, -10}, {18, -10}},
     SplineDegree->3], InsetBox[
     StyleBox["1",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {-1, -5}], InsetBox[
     StyleBox["2",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {-1, -10}]}, {LineBox[{{4, -5.5}, {4, -10}}], 
    {EdgeForm[GrayLevel[0]], FaceForm[GrayLevel[0]], DiskBox[{4, -5}, 0.5]}}, {
    {GrayLevel[1], EdgeForm[Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]]], 
     RectangleBox[NCache[{2, Rational[-23, 2]}, {2, -11.5}], 
      NCache[{6, Rational[-17, 2]}, {6, -8.5}]]}, InsetBox[
     StyleBox["\<\"Z\"\>",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {4, -10}]}, {
    {Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], 
     CircleBox[{10, -5}, 1.7, NCache[{0, Pi}, {0, 3.141592653589793}]]}, 
    {Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], Arrowheads[
     0.002 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], ArrowBox[{{10, -5}, {11, -3.6}}]}, {InsetBox[
      StyleBox["\<\"Y\"\>",
       StripOnInput->False,
       FontFamily->"Times",
       FontSize->12], {10, -5.9}], 
     {EdgeForm[Thickness[
      0.25 Dynamic[
        0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification])]]], FaceForm[None], 
      RectangleBox[
       NCache[{8, Rational[-20, 3]}, {8, -6.666666666666667}], {12, -3}]}}}, 
   {Thickness[
    0.25 Dynamic[
      0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
        Magnification])]], LineBox[{{10.125, -2.95}, {10.125, -1}}], 
    LineBox[{{9.875, -2.95}, {9.875, -1}}], 
    PolygonBox[{{9.25, -1.4}, {10.75, -1.4}, {10, -0.1499999999999999}}]}},
  ImageSize->{
    Min[512, 192 
     Dynamic[0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
        Magnification])]], Automatic}]], "Output",
 CellChangeTimes->{{3.8571334445579863`*^9, 3.857133453988978*^9}, 
   3.857136537164728*^9, {3.85713705454219*^9, 3.857137064639674*^9}, 
   3.857137489389868*^9, 3.857137726484765*^9, 3.857137884145301*^9},
 CellLabel->"Out[20]=",ExpressionUUID->"11258c14-173a-4782-bbfc-1c64b1a17fef"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Psi]0", "=", 
   RowBox[{"QuantumTensorProduct", "[", 
    RowBox[{
     RowBox[{"QuantumState", "[", 
      RowBox[{"{", 
       RowBox[{"\[Alpha]", ",", "\[Beta]"}], "}"}], "]"}], ",", 
     RowBox[{"QuantumState", "[", "\"\<Plus\>\"", "]"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.857133459852302*^9, 3.857133467469611*^9}, {
  3.857133539258664*^9, 3.857133544638268*^9}, {3.857134649820078*^9, 
  3.857134649977051*^9}, {3.857137045874694*^9, 3.857137061848632*^9}, {
  3.857137407828401*^9, 3.8571374082059603`*^9}},
 CellLabel->"In[21]:=",ExpressionUUID->"52d0efa5-f79e-4093-8d67-15359182dff7"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"m", "=", 
  RowBox[{"qc", "[", "\[Psi]0", "]"}]}]], "Input",
 CellChangeTimes->{{3.8571343733153954`*^9, 3.857134379756847*^9}},
 CellLabel->"In[22]:=",ExpressionUUID->"672f5544-c12d-4a81-b33e-a188c173ea63"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["QuantumMeasurement",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False, Typeset`embedState$$ = "Ready"}, 
    
    TemplateBox[{
      PaneSelectorBox[{False -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxOpener"]], 
              ButtonFunction :> (Typeset`open$$ = True), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[{{
               Opacity[0], 
               
               PointBox[{{-0.8428550619082302, 0.}, {3.8048069919883467`, 
                0.}}]}, {{}, {
                Directive[
                 EdgeForm[
                  Directive[
                   Thickness[Small], 
                   Opacity[0.6859999999999999]]], 
                 RGBColor[0.982864, 0.7431472, 0.3262672]], {{
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{0.5487982520029133, 0.}, {
                    1.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], "Tooltip"]& ]}, {
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{1.5487982520029133`, 0.}, {
                    2.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], 
                    "Tooltip"]& ]}}}, {}, {}}, {}, {}, {}, {}, {}}, {
             ImageSize -> 
              Dynamic[{
                Automatic, 
                 3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                  Magnification])}], DisplayFunction -> Identity, AspectRatio -> 
              NCache[GoldenRatio^(-1), 0.6180339887498948], 
              Axes -> {False, False}, AxesLabel -> {None, None}, 
              AxesOrigin -> {-0.8428550619082302, 0.}, 
              CoordinatesToolOptions -> {"DisplayFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& ), "CopiedValueFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& )}, Frame -> {{True, False}, {True, False}}, 
              FrameLabel -> {{None, None}, {None, None}}, 
              FrameTicks -> {{None, None}, {None, None}}, 
              GridLines -> {None, None}, GridLinesStyle -> Directive[
                GrayLevel[0.5, 0.4]], PlotRange -> {{All, All}, {All, All}}, 
              PlotRangePadding -> {{
                 Scaled[0.02], 
                 Scaled[0.02]}, {None, 
                 Scaled[0.05]}}, Ticks -> {None, Automatic}}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Target: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", "1", "}"}], "SummaryItem"]}]}, {
               RowBox[{
                 TagBox[
                 "\"Measurement Outcomes: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}], True -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxCloser"]], 
              ButtonFunction :> (Typeset`open$$ = False), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[{{
               Opacity[0], 
               
               PointBox[{{-0.8428550619082302, 0.}, {3.8048069919883467`, 
                0.}}]}, {{}, {
                Directive[
                 EdgeForm[
                  Directive[
                   Thickness[Small], 
                   Opacity[0.6859999999999999]]], 
                 RGBColor[0.982864, 0.7431472, 0.3262672]], {{
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{0.5487982520029133, 0.}, {
                    1.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], "Tooltip"]& ]}, {
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{1.5487982520029133`, 0.}, {
                    2.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], 
                    "Tooltip"]& ]}}}, {}, {}}, {}, {}, {}, {}, {}}, {
             ImageSize -> 
              Dynamic[{
                Automatic, 
                 3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                  Magnification])}], DisplayFunction -> Identity, AspectRatio -> 
              NCache[GoldenRatio^(-1), 0.6180339887498948], 
              Axes -> {False, False}, AxesLabel -> {None, None}, 
              AxesOrigin -> {-0.8428550619082302, 0.}, 
              CoordinatesToolOptions -> {"DisplayFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& ), "CopiedValueFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& )}, Frame -> {{True, False}, {True, False}}, 
              FrameLabel -> {{None, None}, {None, None}}, 
              FrameTicks -> {{None, None}, {None, None}}, 
              GridLines -> {None, None}, GridLinesStyle -> Directive[
                GrayLevel[0.5, 0.4]], PlotRange -> {{All, All}, {All, All}}, 
              PlotRangePadding -> {{
                 Scaled[0.02], 
                 Scaled[0.02]}, {None, 
                 Scaled[0.05]}}, Ticks -> {None, Automatic}}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Target: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", "1", "}"}], "SummaryItem"]}]}, {
               RowBox[{
                 TagBox[
                 "\"Measurement Outcomes: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Entropy: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  
                  TemplateBox[{"1.`", "\"b\"", "bits", "\"Bits\""}, 
                   "Quantity", SyntaxForm -> Mod], "SummaryItem"]}]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}]}, 
       Dynamic[Typeset`open$$], ImageSize -> Automatic]},
     "SummaryPanel"],
    DynamicModuleValues:>{}], "]"}],
  Wolfram`QuantumFramework`QuantumMeasurement[
   Wolfram`QuantumFramework`QuantumMeasurementOperator[
    Wolfram`QuantumFramework`QuantumOperator[
     Wolfram`QuantumFramework`QuantumState[
      SparseArray[
      Automatic, {8}, 0, {1, {{0, 4}, {{1}, {2}, {7}, {8}}}, {Complex[0, 
            Rational[-1, 2]] $CellContext`\[Alpha] + 
         Rational[1, 2] $CellContext`\[Beta], Complex[0, 
            Rational[-1, 2]] $CellContext`\[Alpha] + 
         Rational[-1, 2] $CellContext`\[Beta], Complex[0, 
            Rational[1, 2]] $CellContext`\[Alpha] + 
         Rational[1, 2] $CellContext`\[Beta], Complex[0, 
            Rational[1, 2]] $CellContext`\[Alpha] + 
         Rational[-1, 2] $CellContext`\[Beta]}}], 
      Wolfram`QuantumFramework`QuantumBasis[<|
       "Input" -> Wolfram`QuantumFramework`QuditBasis[<|{
             Wolfram`QuantumFramework`QuditName[
              Subscript["\[Psi]", 
               Subscript["y", "-"]], "Dual" -> True], 1} -> 
           SparseArray[
            Automatic, {2}, 0, {
             1, {{0, 2}, {{1}, {2}}}, {
              Complex[0, 1] 2^Rational[-1, 2], 2^Rational[-1, 2]}}], {
             Wolfram`QuantumFramework`QuditName[
              Subscript["\[Psi]", 
               Subscript["y", "+"]], "Dual" -> True], 1} -> 
           SparseArray[
            Automatic, {2}, 0, {
             1, {{0, 2}, {{1}, {2}}}, {
              Complex[0, -1] 2^Rational[-1, 2], 2^Rational[-1, 2]}}], {
             Wolfram`QuantumFramework`QuditName[0, "Dual" -> True], 2} -> 
           SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{1}}}, {1}}], {
             Wolfram`QuantumFramework`QuditName[1, "Dual" -> True], 2} -> 
           SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{2}}}, {1}}]|>], 
        "Output" -> Wolfram`QuantumFramework`QuditBasis[<|{
             Wolfram`QuantumFramework`QuditName[
              Interpretation[
               Tooltip[
                Style[0, Bold], "Eigenvalue 1"], {0, {1}}], "Dual" -> False], 
             1} -> SparseArray[
            Automatic, {2}, 0, {
             1, {{0, 2}, {{1}, {2}}}, {
              Complex[0, 1] 2^Rational[-1, 2], 2^Rational[-1, 2]}}], {
             Wolfram`QuantumFramework`QuditName[
              Interpretation[
               Tooltip[
                Style[1, Bold], "Eigenvalue 2"], {1, {2}}], "Dual" -> False], 
             1} -> SparseArray[
            Automatic, {2}, 0, {
             1, {{0, 2}, {{1}, {2}}}, {
              Complex[0, -1] 2^Rational[-1, 2], 2^Rational[-1, 2]}}]|>], 
        "Picture" -> "Schr\[ODoubleDot]dinger", "Label" -> CircleTimes["Y", 
          Superscript["\[Pi]", 
           Row[{}]]][
          "Controlled"["Z", {1}, {}][
           CircleTimes["Computational", "+"]]], "ParameterSpec" -> {}|>]], {{
      0}, {1, 2}}], {1}]],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellChangeTimes->{{3.857134376682404*^9, 3.857134380185782*^9}, 
   3.857136540493392*^9, {3.8571370554110518`*^9, 3.8571370651830187`*^9}, 
   3.8571374895371304`*^9, 3.857137729140841*^9, 3.8571378842937193`*^9},
 CellLabel->"Out[22]=",ExpressionUUID->"b911d547-1272-4274-91d6-50deafbd807e"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"newBasisY", "=", 
   RowBox[{"QuantumTensorProduct", "[", 
    RowBox[{
     RowBox[{"QuantumBasis", "[", 
      RowBox[{"<|", 
       RowBox[{
        RowBox[{"\"\<\!\(\*SubscriptBox[\(y\), \(0\)]\)\>\"", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           FractionBox["\[ImaginaryI]", 
            SqrtBox["2"]], ",", 
           FractionBox["1", 
            SqrtBox["2"]]}], "}"}]}], ",", 
        RowBox[{"\"\<\!\(\*SubscriptBox[\(y\), \(1\)]\)\>\"", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", 
            FractionBox["\[ImaginaryI]", 
             SqrtBox["2"]]}], ",", 
           FractionBox["1", 
            SqrtBox["2"]]}], "}"}]}]}], "|>"}], "]"}], ",", 
     RowBox[{"QuantumBasis", "[", "]"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8571374596631727`*^9, 3.857137470283874*^9}},
 CellLabel->"In[23]:=",ExpressionUUID->"85936441-d47a-40ca-af1b-474c11170599"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"QuantumState", "[", 
      RowBox[{"#", ",", "newBasisY"}], "]"}], "[", "\"\<Formula\>\"", "]"}], 
    "]"}], "&"}], "/@", 
  RowBox[{"m", "[", "\"\<StateAssociation\>\"", "]"}]}]], "Input",
 CellChangeTimes->{{3.857136774999941*^9, 3.8571368191185837`*^9}, {
  3.857137473111589*^9, 3.857137473903754*^9}},
 CellLabel->"In[24]:=",ExpressionUUID->"ee20bef7-2c51-49af-9edf-f30b614f9c69"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    InterpretationBox[
     TemplateBox[{
       RowBox[{
         SubscriptBox["\"\[Psi]\"", 
          SubscriptBox["\"y\"", "\"-\""]]}]},
      "Ket"],
     Wolfram`QuantumFramework`QuditName[
      Subscript["\[Psi]", 
       Subscript["y", "-"]], "Dual" -> False]], "\[Rule]", 
    RowBox[{
     FractionBox["1", "2"], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "\[ImaginaryI]"}], " ", "\[Alpha]"}], "+", 
          "\[Beta]"}], ")"}], " ", 
        InterpretationBox[
         TemplateBox[{
           
           RowBox[{"\"\\!\\(\\*SubscriptBox[\\(y\\), \\(0\\)]\\)\"", 
             "\[InvisibleSpace]", "0"}]},
          "Ket"],
         Wolfram`QuantumFramework`QuditName[{
          "\!\(\*SubscriptBox[\(y\), \(0\)]\)", 0}, "Dual" -> False]]}], "+", 
       
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "\[ImaginaryI]"}], " ", "\[Alpha]"}], "-", 
          "\[Beta]"}], ")"}], " ", 
        InterpretationBox[
         TemplateBox[{
           
           RowBox[{"\"\\!\\(\\*SubscriptBox[\\(y\\), \\(0\\)]\\)\"", 
             "\[InvisibleSpace]", "1"}]},
          "Ket"],
         Wolfram`QuantumFramework`QuditName[{
          "\!\(\*SubscriptBox[\(y\), \(0\)]\)", 1}, "Dual" -> False]]}]}], 
      ")"}]}]}], ",", 
   RowBox[{
    InterpretationBox[
     TemplateBox[{
       RowBox[{
         SubscriptBox["\"\[Psi]\"", 
          SubscriptBox["\"y\"", "\"+\""]]}]},
      "Ket"],
     Wolfram`QuantumFramework`QuditName[
      Subscript["\[Psi]", 
       Subscript["y", "+"]], "Dual" -> False]], "\[Rule]", 
    RowBox[{
     FractionBox["1", "2"], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"\[ImaginaryI]", " ", "\[Alpha]"}], "+", "\[Beta]"}], ")"}],
         " ", 
        InterpretationBox[
         TemplateBox[{
           
           RowBox[{"\"\\!\\(\\*SubscriptBox[\\(y\\), \\(1\\)]\\)\"", 
             "\[InvisibleSpace]", "0"}]},
          "Ket"],
         Wolfram`QuantumFramework`QuditName[{
          "\!\(\*SubscriptBox[\(y\), \(1\)]\)", 0}, "Dual" -> False]]}], "+", 
       
       RowBox[{"\[ImaginaryI]", " ", 
        RowBox[{"(", 
         RowBox[{"\[Alpha]", "+", 
          RowBox[{"\[ImaginaryI]", " ", "\[Beta]"}]}], ")"}], " ", 
        InterpretationBox[
         TemplateBox[{
           
           RowBox[{"\"\\!\\(\\*SubscriptBox[\\(y\\), \\(1\\)]\\)\"", 
             "\[InvisibleSpace]", "1"}]},
          "Ket"],
         Wolfram`QuantumFramework`QuditName[{
          "\!\(\*SubscriptBox[\(y\), \(1\)]\)", 1}, "Dual" -> False]]}]}], 
      ")"}]}]}]}], "\[RightAssociation]"}]], "Output",
 CellChangeTimes->{{3.857136778703781*^9, 3.85713681946027*^9}, {
   3.857137055838828*^9, 3.85713706524555*^9}, {3.85713747423225*^9, 
   3.857137489599181*^9}, 3.857137729533669*^9, 3.857137884344191*^9},
 CellLabel->"Out[24]=",ExpressionUUID->"927b2964-ccd2-4665-a610-1793edf6f616"]
}, Open  ]],

Cell[TextData[{
 "As expected, for 0, we only have ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["y", "0"], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "33c0d36a-5f22-44fc-afc3-7345832df649"],
 " in the corresponding state, and for 1, we only have ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Xi]", "1"], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "8bc97560-e1e0-45ef-bf83-613cd3f97c69"],
 " in the corresponding state"
}], "Text",
 CellChangeTimes->{{3.857137933450781*^9, 
  3.857137955137746*^9}},ExpressionUUID->"98be520c-d61d-4f97-981b-\
c0971c8792c3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["generic", "Section",
 CellChangeTimes->{{3.857134478356818*^9, 
  3.857134479010013*^9}},ExpressionUUID->"6977d5ba-0597-46b8-a076-\
386c91bd090a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"op", "=", 
   RowBox[{"QuantumOperator", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Cos", "[", "\[Xi]", "]"}], 
      RowBox[{"QuantumOperator", "[", "\"\<X\>\"", "]"}]}], "+", 
     RowBox[{
      RowBox[{"Sin", "[", "\[Xi]", "]"}], 
      RowBox[{"QuantumOperator", "[", "\"\<Y\>\"", "]"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"{", 
   RowBox[{"\[Xi]0", ",", "\[Xi]1"}], "}"}], "=", 
  RowBox[{
   RowBox[{
    RowBox[{"FullSimplify", "[", 
     RowBox[{"#", ",", 
      RowBox[{"Assumptions", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"\[Xi]", "\[Element]", "Reals"}], "}"}]}]}], "]"}], "&"}], "/@", 
   RowBox[{"op", "[", "\"\<Eigenvectors\>\"", "]"}]}]}]}], "Input",
 CellChangeTimes->{{3.857130596956002*^9, 3.8571306168433523`*^9}, {
  3.857134536863495*^9, 3.8571345826520853`*^9}, {3.857135009558619*^9, 
  3.857135040111877*^9}, {3.857135344053892*^9, 3.857135349899621*^9}, {
  3.857137197585806*^9, 3.85713720358389*^9}},
 CellLabel->"In[25]:=",ExpressionUUID->"49607098-26ad-4d5c-b9aa-f98e9a46d635"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", 
      FractionBox[
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{
         RowBox[{"-", "\[ImaginaryI]"}], " ", "\[Xi]"}]], 
       SqrtBox["2"]]}], ",", 
     FractionBox["1", 
      SqrtBox["2"]]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     FractionBox[
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{
        RowBox[{"-", "\[ImaginaryI]"}], " ", "\[Xi]"}]], 
      SqrtBox["2"]], ",", 
     FractionBox["1", 
      SqrtBox["2"]]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.857130601196768*^9, 3.857130617469965*^9}, 
   3.857132514358944*^9, {3.857132628809572*^9, 3.857132649585072*^9}, 
   3.857133033823654*^9, 3.857134552608645*^9, 3.857134583377552*^9, 
   3.857134740293195*^9, 3.857135010037794*^9, 3.857135041303569*^9, 
   3.857135350678591*^9, 3.857135482591922*^9, 3.8571368565530787`*^9, 
   3.857137112423093*^9, 3.857137204460161*^9, 3.8571372393243113`*^9, 
   3.857137729924287*^9, 3.857137884417429*^9},
 CellLabel->"Out[26]=",ExpressionUUID->"07bcfafb-25e7-4157-9264-9656a5fe607d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"qc2", "=", 
   RowBox[{"QuantumCircuitOperator", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"QuantumOperator", "[", "\"\<CZ\>\"", "]"}], ",", 
      RowBox[{"QuantumMeasurementOperator", "[", "op", "]"}]}], "}"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"qc2", "[", "\"\<Diagram\>\"", "]"}]}], "Input",
 CellChangeTimes->{{3.857129607083274*^9, 3.85712968677108*^9}, {
   3.857130840959074*^9, 3.8571308606080647`*^9}, {3.8571311975769253`*^9, 
   3.8571311984774637`*^9}, 3.857131253341064*^9, {3.857131315090384*^9, 
   3.857131317343596*^9}, {3.857133160622798*^9, 3.857133175095928*^9}, {
   3.857134601160462*^9, 3.8571346065094547`*^9}, {3.857135392126927*^9, 
   3.857135398867683*^9}, {3.85713719169525*^9, 3.857137193248317*^9}},
 CellLabel->"In[27]:=",ExpressionUUID->"65164979-3175-47f2-9185-473afe535214"],

Cell[BoxData[
 GraphicsBox[{{InsetBox[
     StyleBox["\<\"c\"\>",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {-1, 0}], 
    {Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], LineBox[{{0, -0.125}, {18, -0.125}}], 
     LineBox[{{0, 0.125}, {18, 0.125}}]}}, {
    BSplineCurveBox[{{0, -5}, {18, -5}},
     SplineDegree->3], BSplineCurveBox[{{0, -10}, {18, -10}},
     SplineDegree->3], InsetBox[
     StyleBox["1",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {-1, -5}], InsetBox[
     StyleBox["2",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {-1, -10}]}, {LineBox[{{4, -5.5}, {4, -10}}], 
    {EdgeForm[GrayLevel[0]], FaceForm[GrayLevel[0]], DiskBox[{4, -5}, 0.5]}}, {
    {GrayLevel[1], EdgeForm[Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]]], 
     RectangleBox[NCache[{2, Rational[-23, 2]}, {2, -11.5}], 
      NCache[{6, Rational[-17, 2]}, {6, -8.5}]]}, InsetBox[
     StyleBox["\<\"Z\"\>",
      StripOnInput->False,
      FontFamily->"Times",
      FontSize->24], {4, -10}]}, {
    {Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], 
     CircleBox[{10, -5}, 1.7, NCache[{0, Pi}, {0, 3.141592653589793}]]}, 
    {Thickness[
     0.25 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], Arrowheads[
     0.002 Dynamic[
       0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
         Magnification])]], ArrowBox[{{10, -5}, {11, -3.6}}]}, {InsetBox[
      StyleBox["\<\"M\"\>",
       StripOnInput->False,
       FontFamily->"Times",
       FontSize->12], {10, -5.9}], 
     {EdgeForm[Thickness[
      0.25 Dynamic[
        0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification])]]], FaceForm[None], 
      RectangleBox[
       NCache[{8, Rational[-20, 3]}, {8, -6.666666666666667}], {12, -3}]}}}, 
   {Thickness[
    0.25 Dynamic[
      0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
        Magnification])]], LineBox[{{10.125, -2.95}, {10.125, -1}}], 
    LineBox[{{9.875, -2.95}, {9.875, -1}}], 
    PolygonBox[{{9.25, -1.4}, {10.75, -1.4}, {10, -0.1499999999999999}}]}},
  ImageSize->{
    Min[512, 192 
     Dynamic[0.26 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
        Magnification])]], Automatic}]], "Output",
 CellChangeTimes->{3.857135399426079*^9, 3.857136874453999*^9, 
  3.857137112634119*^9, 3.85713720706502*^9, 3.857137239502665*^9, 
  3.8571377300088043`*^9, 3.857137884508254*^9},
 CellLabel->"Out[28]=",ExpressionUUID->"4941215b-cc10-4d7f-81f9-e676424f2163"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"m2", "=", 
  RowBox[{"qc2", "[", "\[Psi]0", "]"}]}]], "Input",
 CellChangeTimes->{{3.857129696806348*^9, 3.857129724948222*^9}, {
   3.857130663087552*^9, 3.857130663472048*^9}, 3.8571322756658783`*^9, {
   3.8571330562779093`*^9, 3.857133067030266*^9}, {3.8571331795962667`*^9, 
   3.857133182232998*^9}, {3.857133310469927*^9, 3.8571333355812063`*^9}, {
   3.8571346291144943`*^9, 3.8571346357422457`*^9}, {3.857137019229055*^9, 
   3.85713702021168*^9}, 3.857137230683426*^9},
 CellLabel->"In[29]:=",ExpressionUUID->"8530ccd3-d8ed-4765-800d-da4f6f87e7d0"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["QuantumMeasurement",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False, Typeset`embedState$$ = "Ready"}, 
    
    TemplateBox[{
      PaneSelectorBox[{False -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxOpener"]], 
              ButtonFunction :> (Typeset`open$$ = True), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[{{
               Opacity[0], 
               
               PointBox[{{-0.8428550619082302, 0.}, {3.8048069919883467`, 
                0.}}]}, {{}, {
                Directive[
                 EdgeForm[
                  Directive[
                   Thickness[Small], 
                   Opacity[0.6859999999999999]]], 
                 RGBColor[0.982864, 0.7431472, 0.3262672]], {{
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{0.5487982520029133, 0.}, {
                    1.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], "Tooltip"]& ]}, {
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{1.5487982520029133`, 0.}, {
                    2.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], 
                    "Tooltip"]& ]}}}, {}, {}}, {}, {}, {}, {}, {}}, {
             ImageSize -> 
              Dynamic[{
                Automatic, 
                 3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                  Magnification])}], DisplayFunction -> Identity, AspectRatio -> 
              NCache[GoldenRatio^(-1), 0.6180339887498948], 
              Axes -> {False, False}, AxesLabel -> {None, None}, 
              AxesOrigin -> {-0.8428550619082302, 0.}, 
              CoordinatesToolOptions -> {"DisplayFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& ), "CopiedValueFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& )}, Frame -> {{True, False}, {True, False}}, 
              FrameLabel -> {{None, None}, {None, None}}, 
              FrameTicks -> {{None, None}, {None, None}}, 
              GridLines -> {None, None}, GridLinesStyle -> Directive[
                GrayLevel[0.5, 0.4]], PlotRange -> {{All, All}, {All, All}}, 
              PlotRangePadding -> {{
                 Scaled[0.02], 
                 Scaled[0.02]}, {None, 
                 Scaled[0.05]}}, Ticks -> {None, Automatic}}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Target: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", "1", "}"}], "SummaryItem"]}]}, {
               RowBox[{
                 TagBox[
                 "\"Measurement Outcomes: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}], True -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxCloser"]], 
              ButtonFunction :> (Typeset`open$$ = False), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[{{
               Opacity[0], 
               
               PointBox[{{-0.8428550619082302, 0.}, {3.8048069919883467`, 
                0.}}]}, {{}, {
                Directive[
                 EdgeForm[
                  Directive[
                   Thickness[Small], 
                   Opacity[0.6859999999999999]]], 
                 RGBColor[0.982864, 0.7431472, 0.3262672]], {{
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{0.5487982520029133, 0.}, {
                    1.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], "Tooltip"]& ]}, {
                  Directive[
                   EdgeForm[
                    Directive[
                    Thickness[Small], 
                    Opacity[0.6859999999999999]]], 
                   RGBColor[0.982864, 0.7431472, 0.3262672]], 
                  TagBox[
                   TooltipBox[
                    TagBox[
                    TagBox[
                    DynamicBox[{
                    FEPrivate`If[
                    CurrentValue["MouseOver"], 
                    EdgeForm[{
                    GrayLevel[0.5], 
                    AbsoluteThickness[1.5], 
                    Opacity[0.66]}], {}, {}], 
                    
                    RectangleBox[{1.5487982520029133`, 0.}, {
                    2.4512017479970867`, 0.5}, "RoundingRadius" -> 0]}], 
                    "DelayedMouseEffectStyle"], StatusArea[#, 0.5]& , 
                    TagBoxNote -> "0.5"], 
                    StyleBox["0.5`", {}, StripOnInput -> False]], 
                   Annotation[#, 
                    Style[0.5, {}], 
                    "Tooltip"]& ]}}}, {}, {}}, {}, {}, {}, {}, {}}, {
             ImageSize -> 
              Dynamic[{
                Automatic, 
                 3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                  Magnification])}], DisplayFunction -> Identity, AspectRatio -> 
              NCache[GoldenRatio^(-1), 0.6180339887498948], 
              Axes -> {False, False}, AxesLabel -> {None, None}, 
              AxesOrigin -> {-0.8428550619082302, 0.}, 
              CoordinatesToolOptions -> {"DisplayFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& ), "CopiedValueFunction" -> ({
                  Identity[
                   Part[#, 1]], 
                  Identity[
                   Part[#, 2]]}& )}, Frame -> {{True, False}, {True, False}}, 
              FrameLabel -> {{None, None}, {None, None}}, 
              FrameTicks -> {{None, None}, {None, None}}, 
              GridLines -> {None, None}, GridLinesStyle -> Directive[
                GrayLevel[0.5, 0.4]], PlotRange -> {{All, All}, {All, All}}, 
              PlotRangePadding -> {{
                 Scaled[0.02], 
                 Scaled[0.02]}, {None, 
                 Scaled[0.05]}}, Ticks -> {None, Automatic}}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Target: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", "1", "}"}], "SummaryItem"]}]}, {
               RowBox[{
                 TagBox[
                 "\"Measurement Outcomes: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Entropy: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  
                  TemplateBox[{"1.`", "\"b\"", "bits", "\"Bits\""}, 
                   "Quantity", SyntaxForm -> Mod], "SummaryItem"]}]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}]}, 
       Dynamic[Typeset`open$$], ImageSize -> Automatic]},
     "SummaryPanel"],
    DynamicModuleValues:>{}], "]"}],
  Wolfram`QuantumFramework`QuantumMeasurement[
   Wolfram`QuantumFramework`QuantumMeasurementOperator[
    Wolfram`QuantumFramework`QuantumOperator[
     Wolfram`QuantumFramework`QuantumState[
      SparseArray[
      Automatic, {8}, 0, {
       1, {{0, 8}, {{1}, {2}, {3}, {4}, {5}, {6}, {7}, {
         8}}}, {-2^
           Rational[-1, 2] $CellContext`\[Beta] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (
           Cos[$CellContext`\[Xi]] + Complex[0, -1] Sin[$CellContext`\[Xi]]) + 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
             Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
              Sin[$CellContext`\[Xi]]]) (Cos[$CellContext`\[Xi]] + 
           Complex[0, -1] Sin[$CellContext`\[Xi]]), 
         2^Rational[-1, 2] $CellContext`\[Beta] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (
           Cos[$CellContext`\[Xi]] + Complex[0, -1] Sin[$CellContext`\[Xi]]) + 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
             Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
              Sin[$CellContext`\[Xi]]]) (Cos[$CellContext`\[Xi]] + 
           Complex[0, -1] Sin[$CellContext`\[Xi]]), 
         2^Rational[-1, 2] $CellContext`\[Beta]/(1 + 
          Abs[Cos[$CellContext`\[Xi]] + 
             Complex[0, -1] Sin[$CellContext`\[Xi]]]^2) - 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
           Abs[Cos[$CellContext`\[Xi]] + 
              Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
            Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
             Sin[$CellContext`\[Xi]]]), -2^
           Rational[-1, 2] $CellContext`\[Beta]/(1 + 
          Abs[Cos[$CellContext`\[Xi]] + 
             Complex[0, -1] Sin[$CellContext`\[Xi]]]^2) - 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
           Abs[Cos[$CellContext`\[Xi]] + 
              Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
            Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
             Sin[$CellContext`\[Xi]]]), 
         2^Rational[-1, 2] $CellContext`\[Beta] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (
           Cos[$CellContext`\[Xi]] + Complex[0, -1] Sin[$CellContext`\[Xi]]) + 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
             Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
              Sin[$CellContext`\[Xi]]]) (Cos[$CellContext`\[Xi]] + 
           Complex[0, -1] Sin[$CellContext`\[Xi]]), -2^
           Rational[-1, 2] $CellContext`\[Beta] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (
           Cos[$CellContext`\[Xi]] + Complex[0, -1] Sin[$CellContext`\[Xi]]) + 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
             Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
              Sin[$CellContext`\[Xi]]]) (Cos[$CellContext`\[Xi]] + 
           Complex[0, -1] Sin[$CellContext`\[Xi]]), 
         2^Rational[-1, 2] $CellContext`\[Beta]/(1 + 
          Abs[
            Cos[$CellContext`\[Xi]] + 
             Complex[0, -1] Sin[$CellContext`\[Xi]]]^2) + 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
             Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
              Sin[$CellContext`\[Xi]]]), -2^
           Rational[-1, 2] $CellContext`\[Beta]/(1 + 
          Abs[Cos[$CellContext`\[Xi]] + 
             Complex[0, -1] Sin[$CellContext`\[Xi]]]^2) + 
         2^Rational[-1, 2] $CellContext`\[Alpha] (1 + 
            Abs[Cos[$CellContext`\[Xi]] + 
               Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^(-1) (Conjugate[
             Cos[$CellContext`\[Xi]]] + Complex[0, 1] Conjugate[
              Sin[$CellContext`\[Xi]]])}}], 
      Wolfram`QuantumFramework`QuantumBasis[<|
       "Input" -> Wolfram`QuantumFramework`QuditBasis[<|{
             Wolfram`QuantumFramework`QuditName[0, "Dual" -> True], 1} -> 
           SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{1}}}, {1}}], {
             Wolfram`QuantumFramework`QuditName[1, "Dual" -> True], 1} -> 
           SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{2}}}, {1}}], {
             Wolfram`QuantumFramework`QuditName[0, "Dual" -> True], 2} -> 
           SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{1}}}, {1}}], {
             Wolfram`QuantumFramework`QuditName[1, "Dual" -> True], 2} -> 
           SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{2}}}, {1}}]|>], 
        "Output" -> Wolfram`QuantumFramework`QuditBasis[<|{
             Wolfram`QuantumFramework`QuditName[
              Interpretation[
               Tooltip[
                Style[-1, Bold], "Eigenvalue 1"], {-1, {1}}], "Dual" -> 
              False], 1} -> 
           SparseArray[
            Automatic, {2}, 0, {
             1, {{0, 2}, {{1}, {
               2}}}, {(1 + 
                 Abs[-Cos[$CellContext`\[Xi]] + 
                    Complex[0, 1] Sin[$CellContext`\[Xi]]]^2)^
                Rational[-1, 2] (-Cos[$CellContext`\[Xi]] + 
                Complex[0, 1] Sin[$CellContext`\[Xi]]), (1 + 
                Abs[-Cos[$CellContext`\[Xi]] + 
                   Complex[0, 1] Sin[$CellContext`\[Xi]]]^2)^
               Rational[-1, 2]}}], {
             Wolfram`QuantumFramework`QuditName[
              Interpretation[
               Tooltip[
                Style[1, Bold], "Eigenvalue 2"], {1, {2}}], "Dual" -> False], 
             1} -> SparseArray[
            Automatic, {2}, 0, {
             1, {{0, 2}, {{1}, {
               2}}}, {(1 + 
                 Abs[Cos[$CellContext`\[Xi]] + 
                    Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^
                Rational[-1, 2] (Cos[$CellContext`\[Xi]] + 
                Complex[0, -1] Sin[$CellContext`\[Xi]]), (1 + 
                Abs[Cos[$CellContext`\[Xi]] + 
                   Complex[0, -1] Sin[$CellContext`\[Xi]]]^2)^
               Rational[-1, 2]}}]|>], "Picture" -> "Schr\[ODoubleDot]dinger", 
        "Label" -> CircleTimes["Computational", 
          Superscript["\[Pi]", 
           Row[{}]]][
          "Controlled"["Z", {1}, {}][
           CircleTimes["Computational", "+"]]], "ParameterSpec" -> {}|>]], {{
      0}, {1, 2}}], {1}]],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellChangeTimes->{
  3.857129719383078*^9, 3.85712975471762*^9, {3.857130658241748*^9, 
   3.857130663898106*^9}, 3.857131292937333*^9, 3.85713134868268*^9, 
   3.857132277525495*^9, 3.857133099493108*^9, 3.857133183393258*^9, 
   3.857133336133576*^9, {3.8571346319648333`*^9, 3.857134636249763*^9}, 
   3.857134795238647*^9, 3.857136923605194*^9, 3.8571370206865377`*^9, 
   3.85713711275681*^9, 3.857137239604*^9, 3.8571377617434196`*^9, 
   3.857137884605693*^9},
 CellLabel->"Out[29]=",ExpressionUUID->"c05123ee-894a-42fd-bc61-4519a01e6fcd"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"newbasis\[Xi]", "=", 
  RowBox[{"QuantumTensorProduct", "[", 
   RowBox[{
    RowBox[{"QuantumBasis", "[", 
     RowBox[{"<|", 
      RowBox[{
       RowBox[{
       "\"\<\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)\>\"", "->", "\[Xi]0"}], 
       ",", 
       RowBox[{
       "\"\<\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)\>\"", "->", "\[Xi]1"}]}], 
      "|>"}], "]"}], ",", 
    RowBox[{"QuantumBasis", "[", "]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.857134957257896*^9, 3.857134959028554*^9}, {
  3.857135053422173*^9, 3.85713508351105*^9}, {3.85713512044944*^9, 
  3.85713512483563*^9}, {3.857137534236937*^9, 3.857137534749621*^9}},
 CellLabel->"In[30]:=",ExpressionUUID->"59606de1-ad44-40df-9bfd-7468f9bbfaab"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["QuantumBasis",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False, Typeset`embedState$$ = "Ready"}, 
    
    TemplateBox[{
      PaneSelectorBox[{False -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxOpener"]], 
              ButtonFunction :> (Typeset`open$$ = True), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             RasterBox[CompressedData["
1:eJxTTMoPSmVmYGBggWIQGwI+2OOiH1aJrHN/eMueAQWQrp5a5hBLr+g6bvmv
4ZX9A5dzq/fc2GP/JfJ/z1/22zjVt0TtXRSidt9+hUSZwsI9j+yf3SpxOvnk
MdXMwaUeAER2bCY=
              "], {{0, 0}, {4, 4}}, {0, 1}], Frame -> False, 
             FrameLabel -> {None, None}, 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
               Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Picture: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["\"Schr\[ODoubleDot]dinger\"", "SummaryItem"]}], 
               RowBox[{
                 TagBox["\"Rank: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimension: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["4", "SummaryItem"]}], ""}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}], True -> GridBox[{{
            PaneBox[
             ButtonBox[
              DynamicBox[
               FEPrivate`FrontEndResource["FEBitmaps", "SummaryBoxCloser"]], 
              ButtonFunction :> (Typeset`open$$ = False), Appearance -> None, 
              BaseStyle -> {}, Evaluator -> Automatic, Method -> 
              "Preemptive"], Alignment -> {Center, Center}, ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}]], 
            GraphicsBox[
             RasterBox[CompressedData["
1:eJxTTMoPSmVmYGBggWIQGwI+2OOiH1aJrHN/eMueAQWQrp5a5hBLr+g6bvmv
4ZX9A5dzq/fc2GP/JfJ/z1/22zjVt0TtXRSidt9+hUSZwsI9j+yf3SpxOvnk
MdXMwaUeAER2bCY=
              "], {{0, 0}, {4, 4}}, {0, 1}], Frame -> False, 
             FrameLabel -> {None, None}, 
             FrameTicks -> {{None, None}, {None, None}}, GridLinesStyle -> 
             Directive[
               GrayLevel[0.5, 0.4]], ImageSize -> 
             Dynamic[{
               Automatic, 
                3.5 (CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
                 Magnification])}], 
             Method -> {
              "AxisPadding" -> Scaled[0.02], "DefaultBoundaryStyle" -> 
               Automatic, 
               "DefaultGraphicsInteraction" -> {
                "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
                 "Effects" -> {
                  "Highlight" -> {"ratio" -> 2}, 
                   "HighlightPoint" -> {"ratio" -> 2}, 
                   "Droplines" -> {
                    "freeformCursorMode" -> True, 
                    "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
               "DefaultPlotStyle" -> Automatic, "DomainPadding" -> 
               Scaled[0.02], "RangePadding" -> Scaled[0.05]}], 
            GridBox[{{
               RowBox[{
                 TagBox["\"Picture: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["\"Schr\[ODoubleDot]dinger\"", "SummaryItem"]}], 
               RowBox[{
                 TagBox["\"Rank: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["2", "SummaryItem"]}]}, {
               RowBox[{
                 TagBox["\"Dimension: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox["4", "SummaryItem"]}], ""}, {
               RowBox[{
                 TagBox["\"Qudits: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"2", ",", "0"}], "}"}], "SummaryItem"]}], ""}, {
               RowBox[{
                 TagBox["\"Dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"2", ",", "2"}], "}"}], "SummaryItem"]}], ""}, {
               RowBox[{
                 TagBox["\"Element dimensions: \"", "SummaryItemAnnotation"], 
                 "\[InvisibleSpace]", 
                 TagBox[
                  RowBox[{"{", 
                    RowBox[{"2", ",", "2", ",", "1"}], "}"}], 
                  "SummaryItem"]}], ""}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
          AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}]}, 
       Dynamic[Typeset`open$$], ImageSize -> Automatic]},
     "SummaryPanel"],
    DynamicModuleValues:>{}], "]"}],
  Wolfram`QuantumFramework`QuantumBasis[<|
   "Output" -> Wolfram`QuantumFramework`QuditBasis[<|{
         Wolfram`QuantumFramework`QuditName[
         "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", "Dual" -> False], 1} -> 
       SparseArray[
        Automatic, {2}, 0, {
         1, {{0, 2}, {{1}, {2}}}, {-2^Rational[-1, 2] 
           E^(Complex[0, -1] $CellContext`\[Xi]), 2^Rational[-1, 2]}}], {
         Wolfram`QuantumFramework`QuditName[
         "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", "Dual" -> False], 1} -> 
       SparseArray[
        Automatic, {2}, 0, {
         1, {{0, 2}, {{1}, {2}}}, {
          2^Rational[-1, 2] E^(Complex[0, -1] $CellContext`\[Xi]), 2^
           Rational[-1, 2]}}], {
         Wolfram`QuantumFramework`QuditName[0, "Dual" -> False], 2} -> 
       SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{1}}}, {1}}], {
         Wolfram`QuantumFramework`QuditName[1, "Dual" -> False], 2} -> 
       SparseArray[Automatic, {2}, 0, {1, {{0, 1}, {{2}}}, {1}}]|>], "Input" -> 
    Wolfram`QuantumFramework`QuditBasis[<|{
         Wolfram`QuantumFramework`QuditName[\[FormalCapitalI], "Dual" -> 
          False], 1} -> 1|>], "Picture" -> "Schr\[ODoubleDot]dinger", "Label" -> 
    CircleTimes[None, "Computational"], "ParameterSpec" -> {}|>],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellChangeTimes->{{3.857135059084312*^9, 3.857135083963523*^9}, 
   3.857135125553198*^9, 3.85713702637276*^9, 3.8571371128240137`*^9, 
   3.857137239671365*^9, 3.857137536453504*^9, 3.857137761932301*^9, 
   3.857137884658203*^9},
 CellLabel->"Out[30]=",ExpressionUUID->"2a90b477-ae25-453a-b818-bd9c2d131744"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"QuantumState", "[", 
       RowBox[{"#", ",", "newbasis\[Xi]"}], "]"}], "[", "\"\<Formula\>\"", 
      "]"}], ",", 
     RowBox[{"Assumptions", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"\[Xi]", "\[Element]", "Reals"}], "}"}]}]}], "]"}], "&"}], "/@", 
  RowBox[{"m2", "[", "\"\<StateAssociation\>\"", "]"}]}]], "Input",
 CellChangeTimes->{{3.857130671989725*^9, 3.857130709801984*^9}, {
   3.857134867627288*^9, 3.857134877011602*^9}, {3.857135087982473*^9, 
   3.857135093198902*^9}, 3.857137539512735*^9},
 CellLabel->"In[31]:=",ExpressionUUID->"12405a9f-9d3f-4e3d-8b76-ec8c390de572"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{
    InterpretationBox[
     TemplateBox[{
       RowBox[{"0"}]},
      "Ket"],
     Wolfram`QuantumFramework`QuditName[0, "Dual" -> False]], "\[Rule]", 
    FractionBox[
     RowBox[{
      RowBox[{
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{
         RowBox[{"-", "\[ImaginaryI]"}], " ", "\[Xi]"}]], " ", "\[Beta]", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", 
          InterpretationBox[
           TemplateBox[{
             
             RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
               "\[InvisibleSpace]", "0"}]},
            "Ket"],
           
           Wolfram`QuantumFramework`QuditName[{
            "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 0}, "Dual" -> False]]}],
          "+", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 1}, "Dual" -> False]], 
         "+", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "0"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 0}, "Dual" -> False]], 
         "-", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 1}, "Dual" -> False]]}], 
        ")"}]}], "+", 
      RowBox[{"\[Alpha]", " ", 
       RowBox[{"(", 
        RowBox[{
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
              "\[InvisibleSpace]", "0"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 0}, "Dual" -> False]], 
         "+", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 1}, "Dual" -> False]], 
         "+", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "0"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 0}, "Dual" -> False]], 
         "+", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 1}, "Dual" -> False]]}], 
        ")"}]}]}], 
     RowBox[{"2", " ", 
      SqrtBox["2"]}]]}], ",", 
   RowBox[{
    InterpretationBox[
     TemplateBox[{
       RowBox[{"1"}]},
      "Ket"],
     Wolfram`QuantumFramework`QuditName[1, "Dual" -> False]], "\[Rule]", 
    FractionBox[
     RowBox[{
      RowBox[{
       RowBox[{"-", 
        SuperscriptBox["\[ExponentialE]", 
         RowBox[{"\[ImaginaryI]", " ", "\[Xi]"}]]}], " ", "\[Alpha]", " ", 
       RowBox[{"(", 
        RowBox[{
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
              "\[InvisibleSpace]", "0"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 0}, "Dual" -> False]], 
         "+", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 1}, "Dual" -> False]], 
         "-", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "0"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 0}, "Dual" -> False]], 
         "-", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 1}, "Dual" -> False]]}], 
        ")"}]}], "+", 
      RowBox[{"\[Beta]", " ", 
       RowBox[{"(", 
        RowBox[{
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
              "\[InvisibleSpace]", "0"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 0}, "Dual" -> False]], 
         "-", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(0\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(0\)]\)", 1}, "Dual" -> False]], 
         "+", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "0"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 0}, "Dual" -> False]], 
         "-", 
         InterpretationBox[
          TemplateBox[{
            
            RowBox[{"\"\\!\\(\\*SubscriptBox[\\(\[Xi]\\), \\(1\\)]\\)\"", 
              "\[InvisibleSpace]", "1"}]},
           "Ket"],
          
          Wolfram`QuantumFramework`QuditName[{
           "\!\(\*SubscriptBox[\(\[Xi]\), \(1\)]\)", 1}, "Dual" -> False]]}], 
        ")"}]}]}], 
     RowBox[{"2", " ", 
      SqrtBox["2"]}]]}]}], "\[RightAssociation]"}]], "Output",
 CellChangeTimes->{{3.857130676011025*^9, 3.85713071053645*^9}, 
   3.85713126109649*^9, 3.857131295434869*^9, 3.8571322806943893`*^9, 
   3.857133154342901*^9, {3.857134868844118*^9, 3.857134878250967*^9}, {
   3.8571351047872753`*^9, 3.85713512790816*^9}, 3.857136467492157*^9, 
   3.8571370315997066`*^9, 3.857137113133359*^9, 3.857137239742898*^9, 
   3.857137540252288*^9, 3.857137762995413*^9, 3.8571378847165813`*^9},
 CellLabel->"Out[31]=",ExpressionUUID->"49cab7e3-8f63-42db-a398-9b6c2d504781"]
}, Open  ]],

Cell[TextData[{
 "Oddly enough, as you see, for 0, we have ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Xi]", "1"], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "f0b48088-0aa4-46d8-a236-f2f1f35f0189"],
 " in the corresponding state, and for 1, we have ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Xi]", "0"], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "4be76c85-ac43-4934-9096-5342dde3574f"],
 " in the corresponding state"
}], "Text",
 CellChangeTimes->{{3.8571378909017143`*^9, 
  3.8571379227328987`*^9}},ExpressionUUID->"08c05944-8acb-463a-98f4-\
833aa9ae05c9"]
}, Open  ]]
},
WindowSize->{808, 675},
WindowMargins->{{84, Automatic}, {16, Automatic}},
FrontEndVersion->"13.0 for Mac OS X x86 (64-bit) (December 6, 2021)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"1bf9b0e6-5b4d-4f4a-b5e3-77324f57273d"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[583, 22, 159, 3, 67, "Section",ExpressionUUID->"34268aa3-8bc8-4b4e-a7c4-8ed1620831c5"],
Cell[CellGroupData[{
Cell[767, 29, 511, 11, 52, "Input",ExpressionUUID->"9f89f128-4052-42b3-baa5-b94594e129d1"],
Cell[1281, 42, 2836, 68, 245, "Output",ExpressionUUID->"11258c14-173a-4782-bbfc-1c64b1a17fef"]
}, Open  ]],
Cell[4132, 113, 652, 14, 30, "Input",ExpressionUUID->"52d0efa5-f79e-4093-8d67-15359182dff7"],
Cell[CellGroupData[{
Cell[4809, 131, 231, 4, 30, "Input",ExpressionUUID->"672f5544-c12d-4a81-b33e-a188c173ea63"],
Cell[5043, 137, 14910, 326, 63, "Output",ExpressionUUID->"b911d547-1272-4274-91d6-50deafbd807e"]
}, Open  ]],
Cell[19968, 466, 966, 25, 84, "Input",ExpressionUUID->"85936441-d47a-40ca-af1b-474c11170599"],
Cell[CellGroupData[{
Cell[20959, 495, 481, 11, 30, "Input",ExpressionUUID->"ee20bef7-2c51-49af-9edf-f30b614f9c69"],
Cell[21443, 508, 3121, 91, 49, "Output",ExpressionUUID->"927b2964-ccd2-4665-a610-1793edf6f616"]
}, Open  ]],
Cell[24579, 602, 608, 17, 58, "Text",ExpressionUUID->"98be520c-d61d-4f97-981b-c0971c8792c3"]
}, Open  ]],
Cell[CellGroupData[{
Cell[25224, 624, 152, 3, 67, "Section",ExpressionUUID->"6977d5ba-0597-46b8-a076-386c91bd090a"],
Cell[CellGroupData[{
Cell[25401, 631, 1091, 27, 52, "Input",ExpressionUUID->"49607098-26ad-4d5c-b9aa-f98e9a46d635"],
Cell[26495, 660, 1126, 29, 57, "Output",ExpressionUUID->"07bcfafb-25e7-4157-9264-9656a5fe607d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[27658, 694, 876, 16, 52, "Input",ExpressionUUID->"65164979-3175-47f2-9185-473afe535214"],
Cell[28537, 712, 2808, 68, 245, "Output",ExpressionUUID->"4941215b-cc10-4d7f-81f9-e676424f2163"]
}, Open  ]],
Cell[CellGroupData[{
Cell[31382, 785, 582, 9, 30, "Input",ExpressionUUID->"8530ccd3-d8ed-4765-800d-da4f6f87e7d0"],
Cell[31967, 796, 19267, 403, 63, "Output",ExpressionUUID->"c05123ee-894a-42fd-bc61-4519a01e6fcd"]
}, Open  ]],
Cell[CellGroupData[{
Cell[51271, 1204, 739, 17, 30, "Input",ExpressionUUID->"59606de1-ad44-40df-9bfd-7468f9bbfaab"],
Cell[52013, 1223, 9126, 189, 63, "Output",ExpressionUUID->"2a90b477-ae25-453a-b818-bd9c2d131744"]
}, Open  ]],
Cell[CellGroupData[{
Cell[61176, 1417, 701, 16, 52, "Input",ExpressionUUID->"12405a9f-9d3f-4e3d-8b76-ec8c390de572"],
Cell[61880, 1435, 7318, 208, 112, "Output",ExpressionUUID->"49cab7e3-8f63-42db-a398-9b6c2d504781"]
}, Open  ]],
Cell[69213, 1646, 619, 17, 58, "Text",ExpressionUUID->"08c05944-8acb-463a-98f4-833aa9ae05c9"]
}, Open  ]]
}
]
*)

